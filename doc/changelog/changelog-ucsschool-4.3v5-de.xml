<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE book [
	<!ENTITY % extensions SYSTEM "../stylesheets/macros.ent" >
	<!ENTITY % DocBookDTD PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
	<!ENTITY % entities SYSTEM "../stylesheets/macros-de.ent" >
	%extensions;
	%DocBookDTD;
	%entities;
]>
<book lang="de" id="errata-changelog-4.3-de">

	<bookinfo>
 		<title>UCS@school 4.3 v5 Changelog</title>
		<!-- <subtitle>Changelog für das Update von UCS@school 4.3 v4 nach 4.3 v5</subtitle> -->
		<legalnotice>
			<literallayout>
Version 4.3 v5
Stand: 07. September 2018
			</literallayout>
			<literallayout lang="">
Alle Rechte vorbehalten./ All rights reserved.
(c) 2002-2018
Univention GmbH
Mary-Somerville-Straße 1
28359 Bremen
Deutschland
feedback@univention.de
			</literallayout>
			<para>
				Jede aufgeführte Marke und jedes Warenzeichen steht im Eigentum ihrer jeweiligen eingetragenen Rechtsinhaber.
				Linux ist ein eingetragenes Warenzeichen von Linus Torvalds.
			</para>
			<para lang="en">
				The mentioned brand names and registered trademarks are owned by the respective legal owners in each case.
				Linux is a registered trademark of Linus Torvalds.
			</para>
		</legalnotice>
	</bookinfo>

	<chapter id="changelog:main">
		<title>&ucsUAS;-Update</title>
		<para>
			Dieses Dokument enthält die Changelogs mit den detaillierten Änderungsinformationen zum Update von &ucsUAS; von Version 4.3 v4 nach 4.3 v5.
			Sofern notwendig, werden wichtige Hinweise zum Update in einem separaten Abschnitt behandelt. Die Changelogs werden nur in Englisch
			gepflegt. Die Änderungsinformationen für vorherige Versionssprünge finden sich unter <ulink	url="https://docs.software-univention.de/"/>.
		</para>

		<section id="changelog:prepare">
			<title>Generelle Hinweise zum Update</title>
			<para>
				Während der Aktualisierung kann es zu Ausfällen von Diensten innerhalb der Domäne
				kommen. Aus diesem Grund sollte das Update innerhalb eines Wartungsfensters
				erfolgen. Grundsätzlich wird empfohlen das Update zunächst in einer Testumgebung
				einzuspielen und zu testen. Die Testumgebung sollte dabei identisch zur
				Produktivumgebung sein.
			</para>
		</section>

		<section id="changelog:newerrata">
			<title>Veränderungen im Updateprozess</title>
			<para>
				In der Vergangenheit wurden Updates für UCS@school immer als ein neues App-Update im Univention App Center bereitgestellt.
				Beginnend mit UCS@school 4.2 v10 bzw. UCS@school 4.3 v4 wird dieser Prozess verschlankt. Kleinere Updates und Fehlerbereinigungen
				(Errata für UCS@school), die keine Interaktion mit dem Administrator erforderlich machen, werden in Zukunft im Repository der
				bereits veröffentlichten App-Version von UCS@school herausgegeben. Die Changelog-Dokumente, die wir mit jeder UCS@school-App-Version
				herausgeben, werden	dann entsprechend um einen neuen Abschnitt erweitert, aus dem ersichtlich wird, zu welchem Zeitpunkt welche
				Pakete veröffentlicht und welche Fehler dabei behoben wurden.
			</para>
		</section>

		<section id="changelog:changelogs" lang="en">
			<title>Changelog</title>
						<section id="changelog:ucsschool:ucs-school-lib" lang="en">
				<title>Source package ucs-school-lib</title>
				<itemizedlist>
					<listitem><para>Internal enhancements to the PyHooks loader (<u:bug>45715</u:bug>, <u:bug>47221</u:bug>).</para></listitem>

					<listitem><para>Do not write passwords to logfiles anymore (<u:bug>44314</u:bug>).</para></listitem>

					<listitem><para>Internal enhancement to a user object creation method (<u:bug>47447</u:bug>).</para></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-umc-internetrules" lang="en">
				<title>Source package ucs-school-umc-internetrules</title>
				<itemizedlist>
					<listitem><para>Changed item description within a drop down field if no rule is set to better distinguish it from the default rule (<u:bug>47386</u:bug>).</para></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-metapackage" lang="en">
				<title>Source package ucs-school-metapackage</title>
				<itemizedlist>
					<listitem><para>Restart the S4 connector to enable configuration changes in join scripts (<u:bug>47332</u:bug>).</para></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-l10n-fr" lang="en">
				<title>Source package ucs-school-l10n-fr</title>
				<itemizedlist>
					<listitem><para>Update translation (<u:bug>47386</u:bug>).</para></listitem>

				</itemizedlist>
			</section>
			<section id="changelog:ucsschool:ucs-school-import" lang="en">
				<title>Source package ucs-school-import</title>
				<itemizedlist>
					<listitem><para>The UMC import module now shows a summary after a successful dry-run (<u:bug>46712</u:bug>).</para></listitem>

					<listitem><para>Internal change: a new exception type has been introduced, to skip single import users on non-fatal errors (<u:bug>47162</u:bug>).</para></listitem>

					<listitem><para>Internal change: a new PyHook <literal>PostReadPyHook</literal> has been introduced, which is executed after reading each individual data record and can also change it (<u:bug>47221</u:bug>).</para></listitem>

					<listitem><para>Internal change: a new PyHook <literal>ResultPyHook</literal> has been introduced, which is executed after the import has finished (<u:bug>47302</u:bug>).</para></listitem>

					<listitem><para>It is now possible to deactivate the normalization for first name and last name. The boolean config options <literal>normalization:firstname</literal> and <literal>normalization:lastname</literal> have been added (<u:bug>47304</u:bug>).</para></listitem>

					<listitem><para>The CSV import via ucs-school-user-import is now able to handle UTF-8 files with byte order mark (UTF-8 BOM) correctly. In the past the BOM was interpreted as user data (<u:bug>47305</u:bug>).</para></listitem>

					<listitem><para>Internal change: several typos in class names have been fixed (<u:bug>47311</u:bug>).</para></listitem>

					<listitem><para>Internal cleanup: removed unreachable code (<u:bug>47413</u:bug>).</para></listitem>

					<listitem><para>Added a JSON configuration file for using the ucs-school-testuser-import script to test an HTTP-API import and notes on how to use (<u:bug>47277</u:bug>).</para></listitem>

					<listitem><para>The import now also checks the most common errors in dry-runs (<u:bug>45715</u:bug>).</para></listitem>

					<listitem><para>In dry run, a read-only cn=admin LDAP connection is used (<u:bug>47203</u:bug>).</para></listitem>

					<listitem><para>Code and configuration for a scenario with a single source database with global record UIDs and partial user import files was implemented (<u:bug>47447</u:bug>).</para></listitem>

					<listitem><para>An interface for adding custom configuration checks has been added (<u:bug>47448</u:bug>).</para></listitem>

					<listitem><para>A user is not moved to another school if this school is imported as an additional school for the user and the name of the new school is sorted alphanumerically earlier than the school of which the user is already a member (<u:bug>47450</u:bug>).</para></listitem>

					<listitem><para>UCS@school roles attributes are no longer created during import if this feature is deactivated (<u:bug>47451</u:bug>).</para></listitem>

					<listitem><para>File permissions are set correctly now on initial installation of the HTTP-API import (<u:bug>47514</u:bug>).</para></listitem>

					<listitem><para>Handle changed database migrations for django-celery, when upgrading from 4.2 to 4.3 (<u:bug>47333</u:bug>).</para></listitem>

					<listitem><para>The HTTP API used a single user (<literal>importhttpapi</literal>) on all systems where the HTTP API is installed. This led to some authentication problems. Therefore, a different account for authentication is now created on each DC backup (<u:bug>47683</u:bug>).</para></listitem>

				</itemizedlist>
			</section>

		</section>
	</chapter>
</book>
