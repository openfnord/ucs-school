<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE book [
	<!ENTITY % extensions SYSTEM "../stylesheets/macros.ent" >
	<!ENTITY % DocBookDTD PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
	"http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
	<!ENTITY % entities SYSTEM "../stylesheets/macros-de.ent" >
	%extensions;
	%DocBookDTD;
	%entities;
]>
<book lang="de" id="errata-changelog-4.3-de">

	<bookinfo>
 		<title>UCS@school 4.3 v6 Changelog</title>
		<!-- <subtitle>Changelog für das Update von UCS@school 4.3 v5 nach 4.3 v6</subtitle> -->
		<legalnotice>
			<literallayout>
Version 4.3 v6
Stand: 15.11.2018
			</literallayout>
			<literallayout lang="">
Alle Rechte vorbehalten./ All rights reserved.
(c) 2002-2018
Univention GmbH
Mary-Somerville-Straße 1
28359 Bremen
Deutschland
feedback@univention.de
			</literallayout>
			<para>
				Jede aufgeführte Marke und jedes Warenzeichen steht im Eigentum ihrer jeweiligen eingetragenen Rechtsinhaber.
				Linux ist ein eingetragenes Warenzeichen von Linus Torvalds.
			</para>
			<para lang="en">
				The mentioned brand names and registered trademarks are owned by the respective legal owners in each case.
				Linux is a registered trademark of Linus Torvalds.
			</para>
		</legalnotice>
	</bookinfo>

	<chapter id="changelog:main">
		<title>&ucsUAS;-Update</title>
		<para>
			Dieses Dokument enthält die Changelogs mit den detaillierten Änderungsinformationen zum Update von &ucsUAS; von Version 4.3 v5 nach 4.3 v6.
			Sofern notwendig, werden wichtige Hinweise zum Update in einem separaten Abschnitt behandelt. Die Changelogs werden nur in Englisch
			gepflegt. Die Änderungsinformationen für vorherige Versionssprünge finden sich unter <ulink	url="https://docs.software-univention.de/"/>.
		</para>

		<section id="changelog:prepare">
			<title>Generelle Hinweise zum Update</title>
			<para>
				Während der Aktualisierung kann es zu Ausfällen von Diensten innerhalb der Domäne
				kommen. Aus diesem Grund sollte das Update innerhalb eines Wartungsfensters
				erfolgen. Grundsätzlich wird empfohlen das Update zunächst in einer Testumgebung
				einzuspielen und zu testen. Die Testumgebung sollte dabei identisch zur
				Produktivumgebung sein.
			</para>
		</section>

		<section id="changelog:newerrata">
			<title>Veränderungen im Updateprozess</title>
			<para>
				In der Vergangenheit wurden Updates für UCS@school immer als ein neues App-Update im Univention App Center bereitgestellt.
				Beginnend mit UCS@school 4.2 v10 bzw. UCS@school 4.3 v4 wird dieser Prozess verschlankt. Kleinere Updates und Fehlerbereinigungen
				(Errata für UCS@school), die keine Interaktion mit dem Administrator erforderlich machen, werden in Zukunft im Repository der
				bereits veröffentlichten App-Version von UCS@school herausgegeben. Die Changelog-Dokumente, die wir mit jeder UCS@school-App-Version
				herausgeben, werden	dann entsprechend um einen neuen Abschnitt erweitert, aus dem ersichtlich wird, zu welchem Zeitpunkt welche
				Pakete veröffentlicht und welche Fehler dabei behoben wurden.
			</para>
		</section>

		<section id="changelog:discontinuation">
 			<title>Abkündigung des UMC-Moduls "CSV-Import"</title>
 			<important>
 				<para>
					Beginnend mit UCS@school 4.4 wird das UMC-Modul <guimenu>CSV-Import</guimenu> nicht mehr ein Bestandteil von UCS@school sein. Deshalb sollte
					vor der Aktualisierung auf UCS@school 4.4 eine alternative Lösung für den Import verwendet werden.
					Seit UCS@school 4.2 v6 wird das UMC-Modul <guimenu>Benutzerimport</guimenu> mit UCS@school ausgeliefert. Wir empfehlen die eigenen Importprozesse
					zu prüfen und an das neue UMC-Modul anzupassen. Das UMC-Modul <guimenu>Benutzerimport</guimenu> beinhaltet alle wichtigen Funktionen
					aus dem <guimenu>CSV_Import</guimenu> und darüber hinaus noch viele weitere Features. Weitere Informationen dazu sind im UCS@school Handbuch
					(<ulink url="http://docs.software-univention.de/ucsschool-umc-import-handbuch-4.3.html"/>) zu finden.
 				</para>
 			</important>
 		</section>

		<section id="changelog:changelogs" lang="en">
			<title>Changelog</title>
				<section id="changelog:ucsschool:2018-11-15" lang="en">
					<title>Released on 2018-11-15:</title>
					<!-- START ucs-school-import 16.0.2-63A~4.3.0.201811131411 -->
					<para>
						Source package <emphasis>ucs-school-import</emphasis> in version <emphasis>16.0.2-63A~4.3.0.201811131411</emphasis>:
						<itemizedlist>
							<listitem><para>Even when the import aborts, statistics are now still written to the terminal, passwords and summary CSV files are written to disk (<u:bug>45673</u:bug>).</para></listitem>

							<listitem><para>CSV files encoded in <literal>ISO 8859-1</literal> (and others) are now automatically convert to <literal>UTF-8</literal> (<u:bug>47677</u:bug>).</para></listitem>

							<listitem><para>Better error messages are now provided for missing mandatory columns. <literal>record_uid</literal> and <literal>source_uid</literal> are now always part of <literal>mandatory_attributes</literal>. It is now verified that the CSV columns configured in <literal>csv:mapping</literal> exist in the CSV file (<u:bug>47681</u:bug>).</para></listitem>

							<listitem><para>It is now checked, that the properties listed in the configuration of <literal>mandatory_attributes</literal> exist and are non-empty (<u:bug>47691</u:bug>).</para></listitem>

							<listitem><para>Invalid school class names are now caught in dry-run and reported to the customer (<u:bug>47861</u:bug>).</para></listitem>

							<listitem><para>The script <command>create_ou</command> has been replaced with a newer version that is based on the UCS@school python library ucsschool.lib (<u:bug>46765</u:bug>).</para></listitem>

							<listitem><para>Until now, the UMC module "User Import" only displayed a generic and very technical error message when errors occurred. The processing of errors during import has been improved so that errors that occurred can now be distinguished more accurately, are displayed better and contain more comprehensible text (<u:bug>45165</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-import 16.0.2-63A~4.3.0.201811131411 -->
					<!-- START ucs-school-lib 11.0.1-28A~4.3.0.201811051422 -->
					<para>
						Source package <emphasis>ucs-school-lib</emphasis> in version <emphasis>11.0.1-28A~4.3.0.201811051422</emphasis>:
						<itemizedlist>
							<listitem><para>Check for existing computer objects in school creation process and use it if possible (<u:bug>47408</u:bug>).</para></listitem>

							<listitem><para>Extend School validation for hostnames of educational and administrative dcs (<u:bug>46765</u:bug>).</para></listitem>

							<listitem><para>Prevent writing of role attribute when deactivated via UCR (<u:bug>47967</u:bug>).</para></listitem>

							<listitem><para>Add simple python interface to check school membership of computers (<u:bug>47966</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-lib 11.0.1-28A~4.3.0.201811051422 -->
					<!-- START ucs-school-metapackage 11.0.2-7A~4.3.0.201811130939 -->
					<para>
						Source package <emphasis>ucs-school-metapackage</emphasis> in version <emphasis>11.0.2-7A~4.3.0.201811130939</emphasis>:
						<itemizedlist>
							<listitem><para>When UCS@school is first installed, a demo school with a demo portal is now automatically created. On existing UCS@school environments that are now being updated, the demo school will not be created. To prevent the demo school from being created automatically, the UCR variable <envar>ucsschool/join/create_demo</envar> must be set to <literal>no</literal> before installation (<u:bug>47807</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-metapackage 11.0.2-7A~4.3.0.201811130939 -->
					<!-- START ucs-school-netlogon-user-logonscripts 14.0.1-6A~4.3.0.201811121702 -->
					<para>
						Source package <emphasis>ucs-school-netlogon-user-logonscripts</emphasis> in version <emphasis>14.0.1-6A~4.3.0.201811121702</emphasis>:
						<itemizedlist>
							<listitem><para>By default, the password of the computer account is changed every 21 days. This has caused the ucs-school-user-logonscript-daemon to stop working from the time of the change. The daemon is now restarted automatically during the password change (<u:bug>47805</u:bug>).</para></listitem>

							<listitem><para>Desktop shortcuts were created by the UCS@school netlogon scripts only if they did not already exist on the desktop. If UCR variables were modified for the desktop shortcuts, the next time the user logged in, the shortcut was not updated automatically. This problem is now fixed when the netlogon scripts of the users are rebuilt (automatically or manually via <command>univention-directory-listener-ctrl resync ucs-school-user-logonscript</command> (<u:bug>47937</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-netlogon-user-logonscripts 14.0.1-6A~4.3.0.201811121702 -->
					<!-- START ucs-school-radius-802.1x 7.0.1-2A~4.3.0.201811091632 -->
					<para>
						Source package <emphasis>ucs-school-radius-802.1x</emphasis> in version <emphasis>7.0.1-2A~4.3.0.201811091632</emphasis>:
						<itemizedlist>
							<listitem><para>A user's description attribute is now no longer modified in LDAP if the <literal>ldap</literal> module has been activated in freeradius (<u:bug>47347</u:bug>).</para></listitem>

							<listitem><para>The key expansion for DES encryption in pyMsChapV2.py has been fixed. This bug prevented the RADIUS authentication for some users depending on their password (<u:bug>48128</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-radius-802.1x 7.0.1-2A~4.3.0.201811091632 -->
					<!-- START ucs-school-umc-import 1.0.1-3A~4.3.0.201810161222 -->
					<para>
						Source package <emphasis>ucs-school-umc-import</emphasis> in version <emphasis>1.0.1-3A~4.3.0.201810161222</emphasis>:
						<itemizedlist>
							<listitem><para>Until now, the UMC module "User Import" only displayed a generic and very technical error message when errors occurred. The processing of errors during import has been improved so that errors that occurred can now be distinguished more accurately, are displayed better and contain more comprehensible text (<u:bug>45165</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-umc-import 1.0.1-3A~4.3.0.201810161222 -->
					<!-- START ucs-school-umc-installer 6.0.0-4A~4.3.0.201811071054 -->
					<para>
						Source package <emphasis>ucs-school-umc-installer</emphasis> in version <emphasis>6.0.0-4A~4.3.0.201811071054</emphasis>:
						<itemizedlist>
							<listitem><para>The description text in the UCS@school Configuration Wizard now contains a hint on how to disable the automatic creation of the demo school during the initial installation/configuration of UCS@school (<u:bug>47807</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-umc-installer 6.0.0-4A~4.3.0.201811071054 -->
					<!-- START ucs-school-webproxy 14.0.0-8A~4.3.0.201810170934 -->
					<para>
						Source package <emphasis>ucs-school-webproxy</emphasis> in version <emphasis>14.0.0-8A~4.3.0.201810170934</emphasis>:
						<itemizedlist>
							<listitem><para>The UCR variable <literal>proxy/pac/exclude/domains/domainnames</literal> is not supported anymore. The UCR variable <literal>proxy/pac/exclude/domains/dnsnames</literal> must be used instead. An automatic migration will be tried. If both variables exist, the migration must be done manually (<u:bug>47645</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-webproxy 14.0.0-8A~4.3.0.201810170934 -->
<!-- CHANGELOG:2018-11-15:APPEND -->
				</section>
				<section id="changelog:ucsschool:2018-12-10" lang="en">
					<title>Released on 2018-12-10:</title>
					<!-- START ucs-school-metapackage 11.0.2-8A~4.3.0.201811261200 -->
					<para>
						Source package <emphasis>ucs-school-metapackage</emphasis> in version <emphasis>11.0.2-8A~4.3.0.201811261200</emphasis>:
						<itemizedlist>
							<listitem><para>Fix a typo in the new demonstration portal (<u:bug>48186</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-metapackage 11.0.2-8A~4.3.0.201811261200 -->
					<!-- START ucs-school-umc-import 1.0.1-4A~4.3.0.201812101048 -->
					<para>
						Source package <emphasis>ucs-school-umc-import</emphasis> in version <emphasis>1.0.1-4A~4.3.0.201812101048</emphasis>:
						<itemizedlist>
							<listitem><para>Due to the upgrade from dojo to a newer version the job overview in the User Import UMC module did not display any jobs. This error was fixed (<u:bug>48303</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-umc-import 1.0.1-4A~4.3.0.201812101048 -->
					<!-- START ucs-school-umc-installer 6.0.0-5A~4.3.0.201812050855 -->
					<para>
						Source package <emphasis>ucs-school-umc-installer</emphasis> in version <emphasis>6.0.0-5A~4.3.0.201812050855</emphasis>:
						<itemizedlist>
							<listitem><para>The user guidance during the installation of UCS@school was improved (<u:bug>47640</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-umc-installer 6.0.0-5A~4.3.0.201812050855 -->
<!-- CHANGELOG:2018-12-10:APPEND -->
				</section>
				<section id="changelog:ucsschool:2018-12-12" lang="en">
					<title>Released on 2018-12-12:</title>
					<!-- START ucs-school-ldap-acls-master 16.0.3-1A~4.3.0.201811222349 -->
					<para>
						Source package <emphasis>ucs-school-ldap-acls-master</emphasis> in version <emphasis>16.0.3-1A~4.3.0.201811222349</emphasis>:
						<itemizedlist>
							<listitem><para>Insufficient LDAP permissions and an typo within the LDAP ACLs prevented teachers from resetting student passwords if the student is located underneath another school OU. The problem also occurred when a school administrator tried to reset a teacher password. Both problems have been fixed (<u:bug>47625</u:bug>).</para></listitem>

							<listitem><para>Added new beta feature to enable educational school slaves to replicate also UCS@school staff user objects. This feature can be activated via the UCR variable <envar>ucsschool/ldap/replicate_staff_to_edu</envar>. Please activate this feature only if you know all side effects and necessary steps (<u:bug>48068</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-ldap-acls-master 16.0.3-1A~4.3.0.201811222349 -->
					<!-- START ucs-school-lib 11.0.1-29A~4.3.0.201812121014 -->
					<para>
						Source package <emphasis>ucs-school-lib</emphasis> in version <emphasis>11.0.1-29A~4.3.0.201812121014</emphasis>:
						<itemizedlist>
							<listitem><para>After changes to the school lib it was no longer possible to create schools with DC's for which a computer object already existed. This Bug was fixed (<u:bug>48245</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-lib 11.0.1-29A~4.3.0.201812121014 -->
<!-- CHANGELOG:2018-12-12:APPEND -->
				</section>
				<section id="changelog:ucsschool:2018-12-21" lang="en">
					<title>Released on 2018-12-21:</title>
					<!-- START ucs-school-umc-import 1.0.1-5A~4.3.0.201812201355 -->
					<para>
						Source package <emphasis>ucs-school-umc-import</emphasis> in version <emphasis>1.0.1-5A~4.3.0.201812201355</emphasis>:
						<itemizedlist>
							<listitem><para>If external SSL certificates (from e.g. let's encrypt) are used on the domaincontroller master and master's FQDN differs from the FQDNs within the SSL certificate, the UMC module "Benutzerimport" threw a traceback. The new UCR variables <envar>ucsschool/import/http_api/client/server</envar> and <envar>ucsschool/import/http_api/client/ssl_verify</envar> now allow to specify the correct FQDN used in the SSL certificates resp. to disable SSL checks at all (the latter one is NOT recommended!) (<u:bug>47911</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-umc-import 1.0.1-5A~4.3.0.201812201355 -->
<!-- CHANGELOG:2018-12-21:APPEND -->
				</section>
				<section id="changelog:ucsschool:2019-01-16" lang="en">
					<title>Released on 2019-01-16:</title>
					<!-- START ucs-school-lib 11.0.2-2A~4.3.0.201901091714 -->
					<para>
						Source package <emphasis>ucs-school-lib</emphasis> in version <emphasis>11.0.2-2A~4.3.0.201901091714</emphasis>:
						<itemizedlist>
							<listitem><para>The UCS@school library has been extended to provide internal functions a faster way to query all users with certain criteria from LDAP (<u:bug>47885</u:bug>).</para></listitem>

							<listitem><para>An internal filter error while searching for schools was fixed (<u:bug>48429</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-lib 11.0.2-2A~4.3.0.201901091714 -->
					<!-- START ucs-school-umc-users 14.0.3-1A~4.3.0.201812202240 -->
					<para>
						Source package <emphasis>ucs-school-umc-users</emphasis> in version <emphasis>14.0.3-1A~4.3.0.201812202240</emphasis>:
						<itemizedlist>
							<listitem><para>In environments with several hundred users in one OU, opening the UMC module "Passwords (students)" could take an extremely long time, making the module almost unusable. The responsible LDAP search has now been identified and replaced by a more powerful variant in order to considerably reduce loading times (<u:bug>47885</u:bug>).</para></listitem>

						</itemizedlist>
					</para>
					<!-- END ucs-school-umc-users 14.0.3-1A~4.3.0.201812202240 -->
<!-- CHANGELOG:2019-01-16:APPEND -->
				</section>
<!-- CHANGELOG-NEW-SECTION -->





		</section>
	</chapter>
</book>
